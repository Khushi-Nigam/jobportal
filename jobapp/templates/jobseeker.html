{% extends "index.html" %}
{% block body %}
{% load static %}
<style>
    .required-asterisk {
    color: red;
    }
    .error-message {
        color: red;
        display: none;
        font-size: 0.875rem;
    }
    input:invalid {
      border-color: initial; 
    }
</style>
<div class="container-fluid" style="background-color:rgba(255, 255, 255, 0.95);; min-height: 100vh;">
    <div class="row mt-5 w-75 mx-auto pb-5 fs-6">
        <h1 class="text-center text-[#093f75] fw-bold py-4" style="color: #093f75; font-weight: 600; margin-bottom: 2rem;">Register as Job Seeker</h1>
        {% if msg %}
         <p class="text-center" style="color: #ffffff; font-size: 1rem; margin-bottom: 1rem;">{{msg}}</p>
        {% endif %}

        {% endif %} ui-enhancement
        <form class="form-group p-5 shadow-lg" method="post" id="form"
            style="background-color: #f5f8fc; border-radius: 30px;">

            {% csrf_token %}
            <div class="mb-4">
                <label for="profilepic" class="form-label fw-semibold" style="color: #093f75;" required>Upload Profile Picture  <span class="text-danger">*</span>
                </label>
                <input type="file" name="profilepic" id="profilepic" class="form-control form-control-lg border-2" style="border-color: #093f75; border-radius: 12px;">>
            </div>
 ui-enhancement
            <div class="mb-4">
               <label for="name" class="form-label fw-semibold" style="color: #093f75;">Full Name <span class="text-danger">*</span></label>
                <input type="text"
                 name="name" class="form-control" id="name" pattern="[a-zA-Z\s]+"
                    title="Enter name using alphabets(a-z)" placeholder="Enter Your Full Name" required
                    style="border: 2px solid #0a3c74; border-radius: 10px; padding: 0.75rem; font-size: 1rem;">
                <span class="error-message">Please enter a valid name(ex: Ravi)</span>
            </div>
            <div class="col-md-6 mb-3">
                <h6 class="mb-2 pb-1" style="color: #0a3c74; font-weight: 600; font-size: 1.1rem;">Gender: </h6>


                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="femaleGender" value="female"
                        checked />
                    <label class="form-check-label" for="femaleGender" style="color: #333;">Female</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="maleGender" value="male" />
                    <label class="form-check-label" for="maleGender" style="color: #333;">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="otherGender" value="other" />
                    <label class="form-check-label" for="otherGender" style="color: #333;">Other</label>
                </div>
            </div>
            <div class="mb-3">
 ui-enhancement
                <label for="address" class="form-label" style="color: #0a3c74; font-weight: 600;">Enter Address</label>
                <div class="col-md-9 pe-5">
                    <textarea class="form-control" name="address" rows="3" placeholder="Enter Address"
                        required  style="border-radius: 10px; border: 1px solid #0a3c74;"></textarea>
                    <span class="error-message"  style="color: #d9534f;">Address is required.</span>
                </div>
            </div>
            <div class="mb-3">
                <label for="phone" class="form-label" style="color: #0a3c74; font-weight: 600;">Enter Phone Number</label>
                <input type="text" name="contactno" class="form-control" pattern="^[6-9]{1}[0-9]{9}"
                    aria-label="Enter a valid phone no." id="phoneno" placeholder="Enter Phone No." required style="border-radius: 10px; border: 1px solid #0a3c74;">
                <span class="error-message"  style="color: #d9534f;">Please enter a valid 10-digit phone number.</span>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label" style="color: #0a3c74; font-weight: 600;">Email address</label>
                <input type="email" name="emailaddress" class="form-control" id="email" placeholder="Enter Email"
                    required style="border-radius: 10px; border: 1px solid #0a3c74;">
                <span class="error-message" style="color: #d9534f;">Please enter a valid email address.</span>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label" style="color: #0a3c74; font-weight: 600;">Password</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter Password"
                    required  style="border-radius: 10px; border: 1px solid #0a3c74;">
                <span class="error-message" style="color: #d9534f;">Password is required.</span>
            </div>
            <div class="mb-3">
                <label for="dob" class="form-label" style="color: #0a3c74; font-weight: 600;">Date of Birth</label>
                <input type="date" name="dob" class="form-control" id="dob" required  style="border-radius: 10px; border: 1px solid #0a3c74;">
                <span class="error-message" style="color: #d9534f;">Date of Birth is required.</span>
            </div>
            <div class="mb-3">
                <label for="qualification" class="form-label"  style="color: #0a3c74; font-weight: 600;">Enter Your Highest Qualification</label>

                <div class="col-md-9 pe-5">
                    <select name="qualification" id="qualification" class="form-control " style="border-radius: 10px; border: 1px solid #0a3c74;">
                        <option value="null">--Select Qualification--</option>
                        <option value="BCA">BCA</option>
                        <option value="BBA">BBA</option>
                        <option value="Btech">Btech</option>
                        <option value="Bsc">Bsc</option>
                        <option value="Other">Other</option>
                    </select>
                    <span class="error-message" style="color: #d9534f;">Qualification is required.</span>
                </div>
            </div>
            <div class="mb-3">
 ui-enhancement
                <label for="we" class="form-label"  style="color: #0a3c74; font-weight: 600;">Work Experience</label>
                <select name="experience" id="experience" class="form-control"
                style="border-radius: 10px; border: 1px solid #0a3c74;">

                    <option value="null">--Select Work Experience--</option>
                    <option value="1-2 Years">1-2 Years</option>
                    <option value="3-4 Years">3-4 Years</option>
                    <option value="5+Years">5+Years</option>
                    <option value="Other">No Experience</option>
                </select>
                <span class="error-message" style="color: #d9534f;">Work experience is required.</span>
            </div>
            <div class="mb-3">
ui-enhancement
                <label for="Skills" class="form-label" style="color: #0a3c74; font-weight: 600;">Key Skills</label>
                <div class="col-md-9 pe-5">
                    <select name="experience" id="experience" class="form-control"
                     style="border-radius: 10px; border: 1px solid #0a3c74;">

                        <option value="null">--Select Skills--</option>
                        <option value="IT">IT</option>
                        <option value="Management">Management</option>
                        <option value="Customer Services">Customer Service</option>
                        <option value="Accounting & Finance">Accounting & Finance</option>
                        <option value="Digital Marketing">Digital Marketing</option>
                        <option value="Other">Other</option>
                    </select>
                    <span class="error-message" style="color: #d9534f;">Key skills are required.</span>
                </div>
            </div>
            <div class="mb-3"> 
                <label for="resume" class="form-label" required>Upload Resume<span class="required-asterisk">*</span></label><br>
                <input type="file" name="resume" id="resume" class="form-control">
            </div> 
            <div class="mb-3 form-check pt-3">
                <div class="form-check d-flex mb-5">
 ui-enhancement
                    <input class="form-check-input me-2" type="checkbox" value="" name="checkbox" required 
                    style="width: 18px; height: 18px; border: 2px solid #0a3c74;"/>
                    <label class="form-check-label" style="font-size: 15px;">
                        I agree all statements in <a href="#" style="color: #0a3c74; text-decoration: underline;">Terms of service</a>

                    </label>
                </div>
                <span class="error-message" style="color: #d9534f;">You must agree to the terms.</span>
            </div>
            <button type="submit" class="btn w-100"
                style="
    background-color: #9cbad8;
    color: white;
    padding: 12px;
    font-weight: 600;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    transition: background-color 0.3s ease, transform 0.2s ease;
  "
  onmouseover="this.style.backgroundColor='#072d54'"
  onmouseout="this.style.backgroundColor='#093f75'"
  onmousedown="this.style.transform='scale(0.98)'"
  onmouseup="this.style.transform='scale(1)'"
>Submit</button>
        </form>
    </div>
</div>

<!-- Bootstrap Modal -->
<div class="modal fade" id="registerSuccessModal" tabindex="-1" aria-labelledby="registerSuccessModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-header">
        <h5 class="modal-title w-100" id="registerSuccessModalLabel">Registration Successful</h5>
      </div>
      <div class="modal-body">
        Your career profile has been registered successfully!
      </div>
      <div class="modal-footer justify-content-center">
        <a href="{% url 'jobapp:login' %}" class="btn btn-primary">Login Now</a>
      </div>
    </div>
  </div>
</div>

{% if show_modal %}
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        var myModal = new bootstrap.Modal(document.getElementById('registerSuccessModal'), {
            backdrop: 'static',
            keyboard: false
        });
        myModal.show();
    });
</script>
{% endif %}

<script>
  function validateForm() {
    let valid = true;

    // Name
    const name = document.getElementById('name');
    const nameError = name.nextElementSibling;
    const namePattern = /^[A-Za-z]{2,}(?:\s+[A-Za-z]{2,})+$/;
    if (!name.value.trim().match(namePattern)) {
        nameError.textContent = "Enter a valid name (eg. John Doe).";
        nameError.style.display = 'block';
        valid = false;
    } else {
        nameError.style.display = 'none';
    }

    // Phone
    const phone = document.getElementById('phoneno');
    const phoneError = phone.nextElementSibling;
    if (!phone.value.trim().match(/^[6-9]\d{9}$/)) {
      phoneError.textContent = "Enter a valid 10-digit Indian mobile number.";
      phoneError.style.display = 'block';
      valid = false;
    } else {
      phoneError.style.display = 'none';
    }

    // Email
    const email = document.getElementById('email');
    const emailError = email.nextElementSibling;
    if (!email.value.trim().match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
      emailError.textContent = "Please enter a valid email address.";
      emailError.style.display = 'block';
      valid = false;
    } else {
      emailError.style.display = 'none';
    }

    // Password
    const password = document.getElementById('password');
    const passwordError = password.nextElementSibling;
    if (!password.value.trim()) {
      passwordError.style.display = 'block';
      valid = false;
    } else {
      passwordError.style.display = 'none';
    }

    // DOB
    const dob = document.getElementById('dob');
    const dobError = dob.nextElementSibling;
    if (!dob.value.trim()) {
      dobError.style.display = 'block';
      valid = false;
    } else {
      dobError.style.display = 'none';
    }

    // Qualification
    const qualification = document.getElementById('qualification');
    const qualificationError = qualification.nextElementSibling;
    if (qualification.value === 'null') {
      qualificationError.style.display = 'block';
      valid = false;
    } else {
      qualificationError.style.display = 'none';
    }

    // Work Experience
    const experience = document.querySelectorAll('experience');
    const experienceError = experience.nextElementSibling;
    if (experience.value === 'null') {
      experienceError.style.display = 'block';
      valid = false;
    } else {
      experienceError.style.display = 'none';
    }

    // Skills
    const skills = document.querySelectorAll('skills');  
    const skillsError = skills.nextElementSibling;
    if (skills.value === 'null') {
      skillsError.style.display = 'block';
      valid = false;
    } else {
      skillsError.style.display = 'none';
    }

    return valid;
  }
</script>

{% endblock body %}
